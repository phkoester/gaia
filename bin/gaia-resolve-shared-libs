#!/usr/bin/env bash
#
# gaia-resolve-shared-libs
#

set -e

for file in "$@"; do
  if [[ ${file:0:1} == / ]]; then
    # Absolute path: just echo
    echo $file
    continue
  fi

  # Look in `GAIA_SHARED_LIB_PATH``
  found=
  IFS=:
  for path in $GAIA_SHARED_LIB_PATH; do
    if [[ -f $path/$file ]]; then
      echo $path/$file
      found=1
      break
    fi
  done
  IFS=' '

  [[ ! $found ]] && echo $GAIA_INSTALL_LIB_DIR/$file
done

# EOF
